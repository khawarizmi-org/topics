# ديكيو (Deque)

## التعريف

ديكيو (Deque) هو بنية بيانات في مكتبة القوالب القياسية STL تُستخدم لتخزين وتحميل العناصر، وتدعم إضافة العناصر من كلا الطرفين (الطرف الأيسر والطرف الأيمن)، والحصول على العناصر من كلا الطرفين، وحذف العناصر من كلا الطرفين أيضًا.
يمكننا تشبيه ديكيو بأنبوب مفتوح من الطرفين: إذا نظرت من الطرف الأيسر، سترى العنصر الموجود في أقصى اليسار فقط، وإذا نظرت من الطرف الأيمن، سترى العنصر الموجود في أقصى اليمين فقط.

في ديكيو، تُنفذ العمليات على كلا الطرفين: الطرف الأيسر الذي يُشار إليه غالبًا بـ "المقدمة" (front)، والطرف الأيمن الذي يُشار إليه بـ "النهاية" (back).

## عمليات Deque

توجد عدة عمليات تُستخدم مع ديكيو لإضافة عناصر جديدة، والوصول إلى العناصر، وحذفها:

* الإضافة إلى اليمين (Add Right): إدخال عنصر جديد في نهاية ديكيو (back).
* الإضافة إلى اليسار (Add Left): إدخال عنصر جديد في بداية ديكيو (front).
* الحذف من اليمين (Remove Right): حذف العنصر الموجود في نهاية ديكيو (back).
* الحذف من اليسار (Remove Left): حذف العنصر الموجود في بداية ديكيو (front).
* الحصول من اليمين (Get Right): إرجاع العنصر الموجود في نهاية ديكيو (back).
* الحصول من اليسار (Get Left): إرجاع العنصر الموجود في بداية ديكيو (front).

جميع العمليات المدعومة من قبل الطابور المزدوج تتم في زمن قدره $O(1)$، لذا فإن إضافة $n$ عنصرًا إلى الطابور تستغرق وقتًا قدره $O(n)$، وتعقيد الحجم هو $O(n)$.

## مثال على ديكيو

دعنا نراقب كيف يعمل ديكيو عند تنفيذ العمليات التالية بالترتيب:

1. إضافة إلى اليسار 5
2. إضافة إلى اليسار 3
3. حذف من اليمين
4. إضافة إلى اليمين 4
5. الحصول من اليسار
6. الحصول من اليمين
7. إضافة إلى اليسار 8
8. الحصول من اليسار
9. إضافة إلى اليمين 4
10. حذف من اليمين

## كود Deque

=== "C++"

```cpp
#include <iostream>
#include <deque> // رأس deque

using namespace std;

int main(){
    /*
    في C++:
        push_front(): لإضافة عنصر في المقدمة
        push_back(): لإضافة عنصر في النهاية
        pop_front(): لحذف عنصر من المقدمة
        pop_back(): لحذف عنصر من النهاية
        front(): للحصول على العنصر في المقدمة
        back(): للحصول على العنصر في النهاية
    */

    // إنشاء مكدس مزدوج فارغ
    deque<int> items;

    // إضافة إلى اليسار 5
    items.push_front(5);
    // items = 5

    // إضافة إلى اليسار 3
    items.push_front(3);
    // items = 3, 5

    // حذف من اليمين
    items.pop_back();
    // items = 3

    // إضافة إلى اليمين 4
    items.push_back(4);
    // items = 3, 4

    // الحصول من اليسار
    cout << "العنصر في المقدمة هو: " << items.front() << endl;

    // الحصول من اليمين
    cout << "العنصر في النهاية هو: " << items.back() << endl;

    // إضافة إلى اليسار 8
    items.push_front(8);
    // items = 8, 3, 4

    // الحصول من اليسار
    cout << "العنصر في المقدمة هو: " << items.front() << endl;

    // إضافة إلى اليمين 4
    items.push_back(4);
    // items = 8, 3, 4, 4

    // حذف من اليمين
    items.pop_back();
    // items = 8, 3, 4
}
```

=== "Python"

```python
from collections import deque

# في بايثون:
# appendleft(): لإضافة إلى المقدمة
# append(): لإضافة إلى النهاية
# popleft(): لحذف من المقدمة
# pop(): لحذف من النهاية
# [0]: للوصول إلى العنصر في المقدمة
# [-1]: للوصول إلى العنصر في النهاية

# إنشاء مكدس مزدوج فارغ
items = deque()

# إضافة إلى اليسار 5
items.appendleft(5)
# items = 5

# إضافة إلى اليسار 3
items.appendleft(3)
# items = 3, 5

# حذف من اليمين
items.pop()
# items = 3

# إضافة إلى اليمين 4
items.append(4)
# items = 3, 4

# الحصول من اليسار
print("العنصر في المقدمة هو:", items[0])
# يطبع 3

# الحصول من اليمين
print("العنصر في النهاية هو:", items[-1])
# يطبع 4

# إضافة إلى اليسار 8
items.appendleft(8)
# items = 8, 3, 4

# الحصول من اليسار
print("العنصر في المقدمة هو:", items[0])
# يطبع 8

# إضافة إلى اليمين 4
items.append(4)
# items = 8, 3, 4, 4

# حذف من اليمين
items.pop()
# items = 8, 3, 4
```

```plaintext
الناتج:

العنصر في المقدمة هو: 3  
العنصر في النهاية هو: 4  
العنصر في المقدمة هو: 8  
```